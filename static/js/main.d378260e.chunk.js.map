{"version":3,"sources":["components/Map.jsx","components/InfoItem.jsx","components/InfoPanel.jsx","components/SearchQuery.jsx","App.jsx","index.js"],"names":["containerStyle","width","height","Map","props","center","lat","startPoint","endPoint","lng","useJsApiLoader","id","googleMapsApiKey","isLoaded","mapContainerStyle","zoom","label","title","position","path","route","InfoItem","infoTitle","infoText","InfoPanel","startTime","endTime","data","flightInfo","filter","el","flightRoute","pilotInfo","map","includes","split","date","slice","searchInfo","parseInt","toFixed","push","hour","minute","second","length","searchRoute","className","SearchQuery","type","onChange","handleInput","onKeyDown","handleKeyDown","value","inputValue","onClick","handleButton","App","useState","setData","error","setError","setInputValue","urlRegEx","test","fetch","then","res","ok","Error","status","text","catch","err","toString","e","target","event","key","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d378260e.chunk.js","sourcesContent":["import { GoogleMap, useJsApiLoader, Marker, Polyline } from '@react-google-maps/api';\r\n\r\nconst containerStyle = {\r\n    width: '800px',\r\n    height: '600px'\r\n};\r\n\r\nconst Map = props => {\r\n    const center = {\r\n        lat: (props.startPoint.lat + props.endPoint.lat) / 2,\r\n        lng: (props.startPoint.lng + props.endPoint.lng) / 2\r\n    };\r\n\r\n    const { isLoaded } = useJsApiLoader({\r\n        id: 'google-map-script',\r\n        googleMapsApiKey: \"AIzaSyAW8pDHUOwyY8DBg8JZYjgkGcQblsBgfQs\"\r\n    });\r\n\r\n    return isLoaded ? (\r\n        <GoogleMap\r\n\r\n            mapContainerStyle={containerStyle}\r\n            center={center}\r\n            zoom={8}\r\n        >\r\n            <Marker\r\n                label='S'\r\n                title='Miejsce startu'\r\n                position={props.startPoint}\r\n            />\r\n            <Marker\r\n                label='L'\r\n                title='Miejsce lądowania'\r\n                position={props.endPoint}\r\n            />\r\n            <Polyline\r\n                path={props.route}\r\n            />\r\n        </GoogleMap>\r\n    ) : <></>\r\n}\r\n\r\nexport default Map","const InfoItem = props => (\r\n    <p><span>{props.infoTitle}</span> {props.infoText}</p>\r\n);\r\n\r\nexport default InfoItem;","import './InfoPanel.css';\r\n\r\nimport Map from './Map'\r\nimport InfoItem from './InfoItem'\r\n\r\nconst InfoPanel = ({ data }) => {\r\n    const flightInfo = data.filter(el => el[0] === 'H');\r\n    const flightRoute = data.filter(el => el[0] === 'B');\r\n    let route = [];\r\n    let startPoint;\r\n    let endPoint;\r\n    let startTime;\r\n    let endTime;\r\n\r\n    const searchInfo = el => {\r\n        if (el.includes('PILOT')) {\r\n            return <InfoItem\r\n                key={el}\r\n                infoTitle='Pilot:'\r\n                infoText={`${el.split(':')[1]}`}\r\n            />;\r\n        } else if (el.includes('LIDERTYPE')) {\r\n            return <InfoItem\r\n                key={el}\r\n                infoTitle='Rodzaj paralotni:'\r\n                infoText={`${el.split(':')[1]}`}\r\n            />;\r\n        } else if (el.includes('COMPETITIONID')) {\r\n            return <InfoItem\r\n                key={el}\r\n                infoTitle='ID zawodów:'\r\n                infoText={`${el.split(':')[1]}`}\r\n            />;\r\n        } else if (el.includes('CLASS')) {\r\n            return <InfoItem\r\n                key={el}\r\n                infoTitle='Klasa zawodów:'\r\n                infoText={`${el.split(':')[1]}`}\r\n            />;\r\n        } else if (el.includes('GPSDATUM')) {\r\n            return <InfoItem\r\n                key={el}\r\n                infoTitle='Punkt odniesienia GPS:'\r\n                infoText={`${el.split(':')[1]}`}\r\n            />;\r\n        } else if (el.includes('DTE')) {\r\n            let date;\r\n            if (el.includes(':')) {\r\n                date = el.split(':')[1].slice(0, 6);\r\n            } else {\r\n                date = el.slice(5);\r\n            }\r\n            return <InfoItem\r\n                key={el}\r\n                infoTitle='Data:'\r\n                infoText={`${date.slice(0, 2)}.${date.slice(2, 4)}.${date.slice(4, 6)}`}\r\n            />;\r\n        };\r\n    };\r\n\r\n    const searchRoute = (el, id) => {\r\n        let lat = (parseInt(el.slice(7, 9)) + el.slice(9, 14) / 60000).toFixed(6) * 1;\r\n        let lng = (parseInt(el.slice(15, 18)) + el.slice(18, 23) / 60000).toFixed(6) * 1;\r\n\r\n        if (el.slice(14, 15) === 'S') {\r\n            lat *= -1;\r\n        };\r\n        if (el.slice(23, 24) === 'W') {\r\n            lng *= -1;\r\n        };\r\n\r\n        route.push(\r\n            {\r\n                lat,\r\n                lng\r\n            }\r\n        );\r\n\r\n        if (id === 0) {\r\n            startPoint = {\r\n                lat,\r\n                lng\r\n            }\r\n            startTime = {\r\n                hour: el.slice(1, 3),\r\n                minute: el.slice(3, 5),\r\n                second: el.slice(5, 7)\r\n            }\r\n        };\r\n\r\n        if (id === flightRoute.length - 1) {\r\n            endPoint = {\r\n                lat,\r\n                lng\r\n            }\r\n            endTime = {\r\n                hour: el.slice(1, 3),\r\n                minute: el.slice(3, 5),\r\n                second: el.slice(5, 7)\r\n            }\r\n        };\r\n    };\r\n\r\n    const pilotInfo = flightInfo.map(el => searchInfo(el));\r\n    flightRoute.map((el, id) => searchRoute(el, id));\r\n\r\n    return (\r\n        <section id='infoPanel'>\r\n            <div className=\"map\">\r\n                <Map\r\n                    startPoint={startPoint}\r\n                    endPoint={endPoint}\r\n                    route={route}\r\n                />\r\n            </div>\r\n            <div className=\"pilotInfo\">\r\n                <h2>Informacje o locie</h2>\r\n                {pilotInfo}\r\n                <InfoItem\r\n                    infoTitle='Godzina startu:'\r\n                    infoText={`${startTime.hour}:${startTime.minute}:${startTime.second}`}\r\n                />\r\n                <InfoItem\r\n                    infoTitle='Godzina lądowania:'\r\n                    infoText={`${endTime.hour}:${endTime.minute}:${endTime.second}`}\r\n                />\r\n                <InfoItem\r\n                    infoTitle='Współrzędne startu:'\r\n                    infoText={`${startPoint.lat}  ${startPoint.lng}`}\r\n                />\r\n                <InfoItem\r\n                    infoTitle='Współrzędne lądowania:'\r\n                    infoText={`${endPoint.lat}  ${endPoint.lng}`}\r\n                />\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default InfoPanel;","import './SearchQuery.css';\r\n\r\nconst SearchQuery = props => {\r\n    return (\r\n        <div id='searchQuery'>\r\n            <h1>Podaj link do pliku .igc, a my zrobimy resztę</h1>\r\n            <input type='text' onChange={props.handleInput} onKeyDown={props.handleKeyDown} value={props.inputValue} />\r\n            <button onClick={props.handleButton}>Sprawdź</button>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SearchQuery;","import { useState } from 'react'\n\nimport './App.css';\n\nimport InfoPanel from './components/InfoPanel'\nimport SearchQuery from './components/SearchQuery'\n\nconst App = () => {\n  const [data, setData] = useState(false);\n  const [error, setError] = useState(false);\n  const [inputValue, setInputValue] = useState('');\n  const urlRegEx = /(?:(?:https?|ftp|file):\\/\\/|www\\.|ftp\\.).*\\.igc$/;\n\n  const handleInput = e => {\n    setInputValue(e.target.value);\n  }\n\n  const handleKeyDown = (event) => {\n    if (event.key === 'Enter') {\n      handleButton()\n    };\n  };\n\n  const handleButton = () => {\n    setError(false);\n    setData(false);\n    if (urlRegEx.test(inputValue)) {\n      fetch(inputValue)\n        .then(res => {\n          if (res.ok) {\n            return res;\n          }\n          setData(false)\n          throw Error(res.status)\n        })\n        .then(res => res.text())\n        .then(data => data.split('\\n'))\n        .then(data => setData(data))\n        .catch(err => setError(err.toString()))\n    } else {\n      setError('błędny link');\n    }\n  }\n\n  return (\n    <>\n      <SearchQuery\n        handleInput={handleInput}\n        handleKeyDown={handleKeyDown}\n        inputValue={inputValue}\n        handleButton={handleButton}\n      />\n      {error ? <p className='error'>Coś poszło nie tak, {error}</p> : null}\n      {data && <InfoPanel data={data} />}\n\n    </>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\n\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}
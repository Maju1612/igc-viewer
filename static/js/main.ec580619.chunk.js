(this.webpackJsonpfingoweb_zadanie=this.webpackJsonpfingoweb_zadanie||[]).push([[0],[,,,,,,,,,,,function(t,n,e){},function(t,n,e){},function(t,n,e){},,function(t,n,e){},function(t,n,e){"use strict";e.r(n);var i=e(0),c=e.n(i),o=e(3),s=e.n(o),a=(e(11),e(5)),l=(e(12),e(13),e(4)),r=e(1),u={width:"800px",height:"600px"},j=function(t){var n={lat:(t.startPoint.lat+t.endPoint.lat)/2,lng:(t.startPoint.lng+t.endPoint.lng)/2};return Object(l.d)({id:"google-map-script",googleMapsApiKey:"AIzaSyDng8H0tHP2I0J57Nnqhyw16-qD_EvdQ8s"}).isLoaded?Object(r.jsxs)(l.a,{mapContainerStyle:u,center:n,zoom:8,children:[Object(r.jsx)(l.b,{label:"S",title:"Miejsce startu",position:t.startPoint}),Object(r.jsx)(l.b,{label:"L",title:"Miejsce l\u0105dowania",position:t.endPoint}),Object(r.jsx)(l.c,{path:t.route})]}):Object(r.jsx)(r.Fragment,{})},d=function(t){return Object(r.jsxs)("p",{children:[Object(r.jsx)("span",{children:t.infoTitle})," ",t.infoText]})},f=function(t){var n,e,i,c,o=t.data,s=o.filter((function(t){return"H"===t[0]})),a=o.filter((function(t){return"B"===t[0]})),l=[],u=s.map((function(t){return function(t){return t.includes("PILOT")?Object(r.jsx)(d,{infoTitle:"Pilot:",infoText:"".concat(t.split(":")[1])},t):t.includes("LIDERTYPE")?Object(r.jsx)(d,{infoTitle:"Rodzaj paralotni:",infoText:"".concat(t.split(":")[1])},t):t.includes("COMPETITIONID")?Object(r.jsx)(d,{infoTitle:"ID zawod\xf3w:",infoText:"".concat(t.split(":")[1])},t):t.includes("CLASS")?Object(r.jsx)(d,{infoTitle:"Klasa zawod\xf3w:",infoText:"".concat(t.split(":")[1])},t):t.includes("GPSDATUM")?Object(r.jsx)(d,{infoTitle:"Punkt odniesienia GPS:",infoText:"".concat(t.split(":")[1])},t):t.includes("DTE")?(n=t.includes(":")?t.split(":")[1].slice(0,6):t.slice(5),Object(r.jsx)(d,{infoTitle:"Data:",infoText:"".concat(n.slice(0,2),".").concat(n.slice(2,4),".").concat(n.slice(4,6))},t)):void 0;var n}(t)}));return a.map((function(t,o){return function(t,o){var s=1*(parseInt(t.slice(7,9))+t.slice(9,14)/6e4).toFixed(6),r=1*(parseInt(t.slice(15,18))+t.slice(18,23)/6e4).toFixed(6);"S"===t.slice(14,15)&&(s*=-1),"W"===t.slice(23,24)&&(r*=-1),l.push({lat:s,lng:r}),0===o&&(n={lat:s,lng:r},i={hour:t.slice(1,3),minute:t.slice(3,5),second:t.slice(5,7)}),o===a.length-1&&(e={lat:s,lng:r},c={hour:t.slice(1,3),minute:t.slice(3,5),second:t.slice(5,7)})}(t,o)})),Object(r.jsxs)("section",{id:"infoPanel",children:[Object(r.jsx)("div",{className:"map",children:Object(r.jsx)(j,{startPoint:n,endPoint:e,route:l})}),Object(r.jsxs)("div",{className:"pilotInfo",children:[Object(r.jsx)("h2",{children:"Informacje o locie"}),u,Object(r.jsx)(d,{infoTitle:"Godzina startu:",infoText:"".concat(i.hour,":").concat(i.minute,":").concat(i.second)}),Object(r.jsx)(d,{infoTitle:"Godzina l\u0105dowania:",infoText:"".concat(c.hour,":").concat(c.minute,":").concat(c.second)}),Object(r.jsx)(d,{infoTitle:"Wsp\xf3\u0142rz\u0119dne startu:",infoText:"".concat(n.lat,"  ").concat(n.lng)}),Object(r.jsx)(d,{infoTitle:"Wsp\xf3\u0142rz\u0119dne l\u0105dowania:",infoText:"".concat(e.lat,"  ").concat(e.lng)})]})]})},b=(e(15),function(t){return Object(r.jsxs)("div",{id:"searchQuery",children:[Object(r.jsx)("h1",{children:"Podaj link do pliku .igc, a my zrobimy reszt\u0119"}),Object(r.jsx)("input",{type:"text",onChange:t.handleInput,onKeyDown:t.handleKeyDown,value:t.inputValue}),Object(r.jsx)("button",{onClick:t.handleButton,children:"Sprawd\u017a"})]})}),x=function(){var t=Object(i.useState)(!1),n=Object(a.a)(t,2),e=n[0],c=n[1],o=Object(i.useState)(!1),s=Object(a.a)(o,2),l=s[0],u=s[1],j=Object(i.useState)(""),d=Object(a.a)(j,2),x=d[0],p=d[1],h=/(?:(?:https?|ftp|file):\/\/|www\.|ftp\.).*\.igc$/,O=function(){u(!1),c(!1),h.test(x)?fetch(x).then((function(t){if(t.ok)return t;throw c(!1),Error(t.status)})).then((function(t){return t.text()})).then((function(t){return t.split("\n")})).then((function(t){return c(t)})).catch((function(t){return u(t.toString())})):u("b\u0142\u0119dny link")};return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(b,{handleInput:function(t){p(t.target.value)},handleKeyDown:function(t){"Enter"===t.key&&O()},inputValue:x,handleButton:O}),l?Object(r.jsxs)("p",{className:"error",children:["Co\u015b posz\u0142o nie tak, ",l]}):null,e&&Object(r.jsx)(f,{data:e})]})};s.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(x,{})}),document.getElementById("root"))}],[[16,1,2]]]);
//# sourceMappingURL=main.ec580619.chunk.js.map